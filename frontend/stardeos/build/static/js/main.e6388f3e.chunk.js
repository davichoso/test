(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{244:function(e,t,a){},245:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var r,s=a(0),n=a.n(s),c=a(32),i=a.n(c),o=(a(244),a(245),a(246),a(247),a(98)),l=a(381),d=a(120),j=a(29),u=a.n(j),m=a(47),b=a(139),h=a(80),p=a(394),x=a(393),g=a(225),O=a(214),y=a.n(O),f=a(229),w=a(391),v=a(395),D=a(51),F=a(194),k=a(396),N=a(389),S=a(93),_=a(31),C=a(11);l.a.Content;function T(e,t,a){switch(a){case"days":return e.setDate(e.getDate()+t)&&e;case"weeks":return e.setDate(e.getDate()+7*t)&&e;case"months":return e.setMonth(e.getMonth()+t)&&e;case"years":return e.setFullYear(e.getFullYear()+t)&&e}}var $,q=Object(_.f)((function(e){var t=e.history,a=Object(s.useState)(null),n=Object(h.a)(a,2),c=(n[0],n[1],Object(F.b)()),i=c.register,o=c.handleSubmit,l=c.control,j=c.watch,O=c.formState.errors,_=(c.formState,c.setValue,c.setError,c.clearErrors,c.reset,Object(k.a)(Object(N.a)(r||(r=Object(b.a)(["mutation \n    createUser($email: String!,$password: String!,$username: String!,$title: String!,$birthDate: DateTime! ){ \n        createUser(email:$email,password:$password,username:$username,title:$title, birthDate:$birthDate) { title }}"]))))),$=Object(h.a)(_,1)[0],q=function(){var e=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="updatableadd",f.b.loading({content:"Guardando Usuario..",key:r}),$({variables:a}).then((function(){f.b.success({content:"Usuario guardado correctamente",key:r,duration:2}),t.push("/list")})).catch((function(e){f.b.error({content:"no se puedo guardar el usuario",key:r,duration:2}),w.a.error({title:"Error",icon:Object(C.jsx)(S.a,{}),content:e.message,okText:"ok"})})),console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("render");var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.message?e.message:"required"==e.type?"Este campo es requerido":"minLength"==e.type?"min 6 max 12 chars":t},L=j("password","");return Object(C.jsxs)("div",{className:"login__container",children:[Object(C.jsx)("a",{style:{width:"100%",display:"block",textAlign:"center",marginBottom:40},className:"jsx-457684865 login__container-logo",href:"/",children:Object(C.jsx)("div",{children:Object(C.jsx)("img",{style:{display:"block",margin:"auto"},alt:"logo",src:"https://stardeos.com/_next/image?url=%2Fassets%2Fimages%2Fstardeos02.png&w=1920&q=100",decoding:"async","data-nimg":"fill",sizes:"100vw"})})}),Object(C.jsx)("div",{className:"login__box",children:Object(C.jsx)("div",{style:{padding:"45px 50px 30px"},children:Object(C.jsx)("form",{onSubmit:o(q),children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)("input",Object(d.a)({type:"text",className:"ant-input",placeholder:"Nombre Completo",id:"title"},i("title",{required:"es necesario tu nombre completo",minLength:{value:8,message:"Tu nombre completo debe tener al menos 8 characters"},maxLength:{value:50,message:"Tu nombre completo no debe superar los 50 caracteres"}}))),O.title&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.title)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)("input",Object(d.a)({type:"text",className:"ant-input",placeholder:"Usuario",id:"username"},i("username",{required:"es necesario tu username",minLength:{value:6,message:"Tu username debe tener al menos 6 characters"},maxLength:{value:30,message:"Tu username no debe superar los 30 caracteres"}}))),O.username&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.username)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)("input",Object(d.a)({type:"email",className:"ant-input",placeholder:"email",id:"email"},i("email",{required:"tu email es necesario",pattern:/^\S+@\S+$/i}))),O.email&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.email)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)(F.a,{control:l,name:"birthDate",rules:{required:"Necesitamos tu fecha de nacimiento"},render:function(e){var t=e.field,a=t.onChange,r=(t.onBlur,t.value);t.ref;return Object(C.jsx)(y.a,{dateFormat:"yyyy-MM-dd",placeholderText:"Fecha de nacimiento",showMonthDropdown:!0,showYearDropdown:!0,peekNextMonth:!0,dropdownMode:"select",minDate:T(new Date,-80,"years"),maxDate:T(new Date,-18,"years"),selected:r,onChange:function(e){a(e)},locale:g.a,className:"ant-input"})}}),O.birthDate&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.birthDate)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)("input",Object(d.a)({className:"ant-input",placeholder:"Contrase\xf1a",id:"title"},i("password",{required:"debes especificar un password",minLength:{value:8,message:"Tu password debe tener al menos 8 characters"},maxLength:{value:12,message:"Tu password no debe superar los 12 caracteres"}}))),O.password&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.password)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsxs)(p.a,{span:24,children:[Object(C.jsx)("input",Object(d.a)({className:"ant-input",placeholder:"Confirma Contrase\xf1a",id:"title2"},i("password2",{required:"debes confirmar tu password",validate:function(e){return e===L||"Los passwords no son iguales"}}))),O.password2&&Object(C.jsx)(v.a,{message:Object(C.jsx)(C.Fragment,{children:B(O.password2)}),type:"error"})]})}),Object(C.jsx)(x.a,{style:{marginBottom:20},children:Object(C.jsx)(p.a,{span:24,children:Object(C.jsx)(D.a,{className:"button primary",htmlType:"submit",type:"primary",children:"Reg\xedstrate"})})})]})})})})]})})),B=a(392),L=a(165),U=a(398),A=a(387),I=[{title:"ID",dataIndex:"_id",key:"_id"},{title:"Nombres",dataIndex:"title",key:"title"},{title:"Usuario",dataIndex:"username",key:"username"},{title:"birthDate",dataIndex:"birthDate",key:"birthDate"},{title:"createdAt",dataIndex:"createdAt",key:"createdAt"},{title:"updatedAt",dataIndex:"updatedAt",key:"updatedAt"}],M=function(e){var t=e.data;return t&&t.length>0?Object(C.jsx)(A.a,{className:"users_table",rowKey:"_id",columns:I,dataSource:t}):Object(C.jsx)("h2",{children:"Sin datos"})},E=(l.a.Content,function(){var e=Object(N.a)($||($=Object(b.a)(["query getUsers{getUsers{ _id, title, username, birthDate, createdAt, updatedAt }}"]))),t=Object(B.a)(e),a=t.loading,r=t.error,s=t.data;t.refetch;if(a)return Object(C.jsx)(C.Fragment,{children:"'Loading...'"});if(r)return Object(C.jsxs)(C.Fragment,{children:["`Error! $",r.message,"`"]});var n=s.getUsers;return Object(C.jsx)("div",{className:"login__container",style:{maxWidth:"min-content"},children:Object(C.jsx)("div",{className:"login__box",children:Object(C.jsxs)("div",{style:{padding:"45px 50px 30px"},children:[Object(C.jsx)("h1",{style:{display:"inline-block"},children:"Usuarios Registrados"}),Object(C.jsx)(L.b,{to:"/",style:{float:"right"},children:Object(C.jsx)(D.a,{type:"primary",icon:Object(C.jsx)(U.a,{})})}),Object(C.jsx)(M,{data:n})]})})})}),Y=(o.a.SubMenu,l.a.Header,l.a.Footer,l.a.Sider,l.a.Content);var J=function(){return Object(C.jsx)(L.a,{children:Object(C.jsx)(l.a,{children:Object(C.jsx)(Y,{className:"login-page",children:Object(C.jsxs)(_.c,{children:[Object(C.jsx)(_.a,{path:"/list",children:Object(C.jsx)(E,{})}),Object(C.jsx)(_.a,{path:"/",children:Object(C.jsx)(q,{})})]})})})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,399)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))},R=a(388),z=a(390),G=a(386),H=new R.a({uri:"http://137.184.154.105:4000/graphql",cache:new z.a});i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(G.a,{client:H,children:Object(C.jsx)(J,{})})}),document.getElementById("root")),P()}},[[372,1,2]]]);
//# sourceMappingURL=main.e6388f3e.chunk.js.map